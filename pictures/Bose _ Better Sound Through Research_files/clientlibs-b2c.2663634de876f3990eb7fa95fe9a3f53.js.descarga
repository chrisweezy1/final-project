var Bose=Bose||{};Bose.productImageSlider=Bose.productImageSlider||{},Bose.productImageSlider.selectors={component:".bose-productImageSlider",slider:".bose-productImageSliderContainer",sliderID:"#bose-productImageSliderContainer",slide:"div .bose-productImageSliderContainer .slick-slide",sizeVariant:".bose-variantBlockSelector__block",productStatus:'input[name="productStatus-variantCode"]',productVariant:'input[name=":product-variantCode"]',productPath:'input[name=":product-path"]',productStatusContainer:".bose-productStatus__container",zoomContainer:".zoomContainer",sliderLast:".bose-productImageSliderContainer:last",slickSlides:".slick-slide",sliderDotsList:".slick-dots li",activeSliderDot:".slick-active"},Bose.productImageSlider.options={history:!1,focus:!1,shareEl:!1,showAnimationDuration:0,hideAnimationDuration:0,closeEl:!0,fullscreenEl:!1,zoomEl:!1,counterEl:!0,arrowEl:!0},Bose.productImageSlider.size={w:500,h:400},Bose.productImageSlider.init=function(){var a=$jq(Bose.productImageSlider.selectors.sliderLast);Bose.productImageSlider.$slider=a,Bose.productImageSlider.$slider.length>0&&($jq(Bose.productImageSlider.selectors.slider+" div").each(function(){Bose.productImageSlider.cleanClass($jq(this))}),Bose.productImageSlider.defaultVariant=Bose.productImageSlider.$slider.data("default-variant-code"),Bose.productImageSlider.$slider.slick({lazyLoad:"ondemand",slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,respondTo:"slider",customPaging:Bose.productImageSlider.setCustomPaging,prevArrow:'<button type="button" class="slick-prev" aria-label="'+Bose.Translation.getSiteTranslation("PREVIOUS_IMAGE")+'"></button>',nextArrow:'<button type="button" class="slick-next" aria-label="'+Bose.Translation.getSiteTranslation("NEXT_IMAGE")+'"></button>',appendDots:".productImageSlider .slider-nav",appendArrows:".productImageSlider .slider-nav",cssEase:"linear"}),Bose.productImageSlider.$slider.slick("slickFilter","."+Bose.productImageSlider.defaultVariant),Bose.productImageSlider.unHide(),$jq(document).on("variantChanged",Bose.productImageSlider.switchVariant),Bose.productImageSlider.zoom(),Bose.productImageSlider.setOgImage(),Gridle.isActive("large")?Bose.productImageSlider.elevateZoom():Bose.productImageSlider.initPhotoSwipeFromDOM(Bose.productImageSlider.selectors.sliderID),Bose.productImageSlider.$slider.on("afterChange",Bose.productImageSlider.zoom),Bose.productImageSlider.updateAriaAttributes(),$jq(this.selectors.slider).on("afterChange",function(){Bose.productImageSlider.updateAriaAttributes()}))},Bose.productImageSlider.cleanClass=function(a){for(var b=a.attr("class").split(" "),c="",d=0;d<b.length;d++)c+=b[d].replace(/.*?:/,"")+" ";a.attr("class",c)},Bose.productImageSlider.zoom=function(){Gridle.isActive("large")?Bose.productImageSlider.elevateZoom():Bose.productImageSlider.initPhotoSwipeFromDOM(Bose.productImageSlider.selectors.sliderID)},Bose.productImageSlider.elevateZoom=function(){var a=Bose.productImageSlider.$slider.slick("slickCurrentSlide"),b=Bose.productImageSlider.$slider[0].slick.$slides[a];$jq(b).find("img.bose-zoom:last").elevateZoom()},Bose.productImageSlider.switchVariant=function(a,b,c){if(Bose.productImageSlider.productCode=$jq(Bose.productImageSlider.selectors.sliderLast).data("product-code"),Bose.productImageSlider.productCode===b){Bose.productImageSlider.$slider.slick("slickUnfilter"),Bose.productImageSlider.$slider.slick("slickFilter","."+c);var d=$jq(Bose.productImageSlider.selectors.slide).length;Bose.productImageSlider.$slider.slick("slickCurrentSlide")>=d&&Bose.productImageSlider.$slider.slick("slickGoTo",d-1)}lazySizes.autoSizer.checkElems(),Bose.productImageSlider.setOgImage(),Bose.productImageSlider.zoom(),Bose.productImageSlider.productStatus(b),$jq(Bose.productImageSlider.selectors.zoomContainer).remove()},Bose.productImageSlider.unHide=function(){$jq(Bose.productImageSlider.selectors.component).removeClass("hide")},Bose.productImageSlider.productStatus=function(a){var b=$jq("div[data-product-code="+a+"]"),c=b.find(Bose.productImageSlider.selectors.productStatus).val();b.find(Bose.productImageSlider.selectors.productStatusContainer).html(c)},Bose.productImageSlider.setOgImage=function(){if($jq('meta[property="og:image"]').length&&$jq(".bose-productImageSlider").length){var a=$jq(".bose-productImageSliderContainer img:first").attr("src"),b=window.location.origin+a;$jq('meta[property="og:image"]').attr("content",b)}},Bose.productImageSlider.parseThumbnailElements=function(a){var b,c=[];return $jq(a).find(".slick-slide").each(function(){b={src:$jq(this).children("img").attr("data-zoom-image"),w:Bose.productImageSlider.size.w,h:Bose.productImageSlider.size.h},b.el=$jq(this),c.push(b)}),c},Bose.productImageSlider.openPhotoSwipe=function(a,b){var c,d=$jq(".pswp")[0],e=Bose.productImageSlider.parseThumbnailElements(b);Bose.productImageSlider.options.index=parseInt(a,10),c=new PhotoSwipe(d,PhotoSwipeUI_Default,e,Bose.productImageSlider.options),c.init()},Bose.productImageSlider.onThumbnailsClick=function(){return Bose.productImageSlider.openPhotoSwipe($jq(this).parent(".slick-slide").index(),$jq(this).parent(".slick-slide").closest(".slick-track")),!1},Bose.productImageSlider.initPhotoSwipeFromDOM=function(a){$jq(a).find("img").unbind("click").bind("click",Bose.productImageSlider.onThumbnailsClick)},Bose.productImageSlider.overLayImageSlider=function(a,b){var c=$jq(Bose.productImageSlider.selectors.slide).length;Bose.productImageSlider.$slider.slick("slickUnfilter"),Bose.productImageSlider.$slider.slick("slickFilter","."+b),Bose.productImageSlider.$slider.slick("slickCurrentSlide")>=c&&Bose.productImageSlider.$slider.slick("slickGoTo",c-1),lazySizes.autoSizer.checkElems(),Bose.productImageSlider.setOgImage(),Gridle.isActive("large")?Bose.productImageSlider.elevateZoom():Bose.productImageSlider.initPhotoSwipeFromDOM(Bose.productImageSlider.selectors.sliderID),Bose.productImageSlider.productStatus(a)},Bose.productImageSlider.setCustomPaging=function(a,b){return'<button type="button">'+Bose.Translation.getSiteTranslation("Image {0} of {1}",[b+1,$jq(Bose.productImageSlider.selectors.slickSlides).not(".slick-cloned").length])+"</button>"},Bose.productImageSlider.updateAriaAttributes=function(){$jq(Bose.productImageSlider.selectors.sliderDotsList).attr({"aria-hidden":"false","aria-selected":"false"}),$jq(Bose.productImageSlider.selectors.activeSliderDot).attr({"aria-selected":"true"})};
$jq(document).ready(function(){Bose.productImageSlider.init()});
