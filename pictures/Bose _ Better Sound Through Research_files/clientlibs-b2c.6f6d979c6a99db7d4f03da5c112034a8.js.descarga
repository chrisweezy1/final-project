var Bose=Bose||{};Bose.ButtonLink=function(){function a(){$jq(document).on("click",k.submitButton,e),$jq(document).on("click",k.ajaxButton,g),$jq(document).on("click",k.startLoadingOnClick,f),b()}function b(){$jq(k.stickyButton).waypoint({handler:function(a){var b,c,d=$jq(this);"up"===a?(d.removeClass(l.notVisible),$jq(k.stuckContainer).addClass(l.stuckContainerNotVisible).remove()):"down"===a&&(b=$jq("<div/>",{class:l.jsStuckContainer+" "+l.stuckContainer+" "+l.stuckContainerNotVisible}),c=d.clone().addClass(l.jsStuckContainerButton+" "+l.stuckContainerButton),d.addClass(l.notVisible),c.appendTo(b),b.appendTo($jq("body")),b.removeClass(l.stuckContainerNotVisible))},offset:"50px"})}function c(a){a.addClass(l.progressBar),h(a)}function d(a){a.removeClass(l.progressBar),i(a)}function e(a){if(j($jq(this))){var b=$jq(a.currentTarget),d=b.closest("form");b.hasClass("bose-buttonLink--cta")&&c(b),a.preventDefault(),void 0!==b.data("continue")&&b.data("continue")?$jq.ajax({url:d.attr("action"),method:d.attr("method"),data:d.serialize(),success:function(){return!1}}):Bose.Forms.submitForm(this)}}function f(a){if(!j($jq(this)))return a.preventDefault(),!1;var b=$jq(a.currentTarget);b.hasClass(l.progressBar)?a.preventDefault():c(b)}function g(a){var b=$jq(a.currentTarget);j(b)&&(c(b),a.preventDefault(),$jq(document).trigger("ajaxSubmit",[b]))}function h(a){a.addClass(l.disabled).addClass(l.jsDisabled)}function i(a){a.removeClass(l.disabled).removeClass(l.jsDisabled)}function j(a){return!a.hasClass(l.jsDisabled)}var k={submitButton:".js-buttonLink__submitButton",ajaxButton:".js-buttonLink__ajaxSubmitButton",stickyButton:".js-buttonLink__stickyButton",stuckContainer:".js-buttonLinkStuckContainer",stuckContainerButton:".js-buttonLinkStuckContainer__button",startLoadingOnClick:".js-buttonLink_startLoadingOnClick"},l={notVisible:"bose-buttonLink--notVisible",progressBar:"bose-buttonLink--inProgress",cta:"bose-buttonLink--cta",disabled:"-disabled",jsDisabled:"js-buttonLink-disabled",stuckContainer:"bose-buttonLinkStuckContainer",jsStuckContainer:"js-buttonLinkStuckContainer",stuckContainerNotVisible:"bose-buttonLinkStuckContainer--notVisible",stuckContainerButton:"bose-buttonLinkStuckContainer__button",jsStuckContainerButton:"js-buttonLinkStuckContainer__button",loading:"js-buttonLink-loading"};return{init:a,enable:i,disable:h,isEnabled:j,addProgressBar:c,removeProgressBar:d,_selectors:k,_classes:l}}();
$jq(document).ready(function(){Bose.ButtonLink.init()});
